# v1.3.1 - UI統一・ページネーション

**リリース日**: 2025-11-12<br>
**種別**: パッチリリース


## ✨ 新機能

### 📄 複数メッセージによるページネーション

予約が10件以上ある場合、自動的に複数のメッセージに分割して表示されるようになりました！

## 🎯 主な改善点

### ページネーション機能

#### `/list` と `/my-reservations` コマンド

**分割ルール**:
- **1件目のメッセージ**: ヘッダー + 最初の9件
- **2件目以降**: 各メッセージに10件ずつ

**例**: 25件の予約がある場合
```
メッセージ1: ヘッダー + 予約1〜9件（9件）
メッセージ2: 予約10〜19件（10件）
メッセージ3: 予約20〜25件（6件）
```

#### Ephemeral（非公開）メッセージ

すべてのページが**実行者のみに表示**されます。

- ✅ プライバシー保護
- ✅ チャンネルが汚れない
- ✅ 他のユーザーの邪魔にならない


## 🎨 UI統一

### フッターの統一

すべての埋め込みメッセージに統一フッターが追加されました。

#### フッター形式

**基本形式**:
```
部室予約システム | コマンド名
```

**進捗付き（リスト表示時）**:
```
部室予約システム | list | 予約 3/25
```

#### 各コマンドのフッター

| コマンド | フッター |
|---------|---------|
| `/reserve` | `部室予約システム \| reserve` |
| `/edit` | `部室予約システム \| edit` |
| `/cancel` | `部室予約システム \| cancel` |
| `/complete` | `部室予約システム \| complete` |
| `/list` (ヘッダー) | `部室予約システム \| list` |
| `/list` (各予約) | `部室予約システム \| list \| 予約 X/Y` |
| `/my-reservations` (ヘッダー) | `部室予約システム \| my-reservations` |
| `/my-reservations` (各予約) | `部室予約システム \| my-reservations \| 予約 X/Y` |
| `/feedback` | `部室予約システム \| feedback \| 受信日時: YYYY-MM-DD HH:MM:SS` |



## 🔧 システム改善

### コマンド登録エラー処理の改善

一部のコマンド登録が失敗しても、他のコマンドは正常に登録されるようになりました。

**改善前**:
- 1つのコマンド登録に失敗すると、残りのコマンドも登録されない

**改善後**:
- エラーはログに記録
- 他のコマンドは正常に登録継続
- すべてのコマンドを登録した後、成功/失敗を表示


## 🎯 ユーザー体験の向上

### 予約一覧の改善

#### Before（v1.3.0）
- すべての予約を1つのメッセージに詰め込む
- 多すぎると表示が切れる可能性
- スクロールが大変

#### After（v1.3.1）
- 適切なサイズに自動分割
- 各メッセージが読みやすい
- 進捗が分かる（「予約 10/25」など）

---

### 一貫性のあるデザイン

- ✅ すべての埋め込みに統一フッター
- ✅ ブランディングの強化（「部室予約システム」）
- ✅ どのコマンドで作成されたメッセージか一目で分かる

## 📚 ドキュメント更新

### 更新されたドキュメント

- **[README.md](../../README.md)**: 最新UI/UX仕様を追加
- **[COMMANDS.md](../COMMANDS.md)**: UI/UX仕様セクションを追加
- **[DEVELOPMENT.md](../DEVELOPMENT.md)**: 開発ルールを追加


## ⚠️ 既知の制限事項

- ページネーションはボタンではなく、複数メッセージ方式
  - 理由: Ephemeralメッセージとの互換性のため
- 非常に多くの予約（100件以上）がある場合、メッセージ数が多くなる可能性


## 💡 今後の予定

### 検討中の機能

- [ ] ボタンによるページネーション（技術的制約の解決後）
- [ ] フィルタリング機能（日付範囲、ステータス）
- [ ] 並び替え機能（日付順、作成日時順）


## 💡 フィードバック

この機能についてのご意見は `/feedback` コマンドでお送りください！

---

**前のバージョン**: [v1.3.0](v1.3.0.md)<br>
**次のバージョン**: TBD

[← リリースノート一覧に戻る](../RELEASE_NOTES.md)
